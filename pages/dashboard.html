<div class="pagetitle">
  <nav>
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="/">Dashboard</a></li>
      <!-- <li class="breadcrumb-item">Tables</li>
            <li class="breadcrumb-item active">General</li> -->
    </ol>
  </nav>
</div>
<!-- End Page Title -->



<section class="section dashboard">



  <div class="row">

    <!-- Left side columns -->
    <div class="col-lg-8">
      <div class="row">
      {% for ts in transtatus %}  
        <!-- Pending Card -->
        <div class="col-xxl-4 col-md-6">
          <div class="card info-card revenue-card">

            <div class="card-body">
              <h5 class="card-title">{{ts[2]}}</h5>

              <div class="d-flex align-items-center">
                <div class="card-icon rounded-circle d-flex align-items-center justify-content-center  text-{{ts[3]}}">
                  <i class="{{ts[4]}}"></i>
                </div>
                <div class="ps-3">
                  <h6>{{ts[5]}}</h6>
                  <span class="text-muted small pt-2 ps-1">Category</span>
                </div>
                <div class="ps-3">
                  <h6>{{ts[1]}}</h6>
                  <span class="text-muted small pt-2 ps-1">Products</span>
                </div>
              </div>
            </div>

          </div>
        </div>
        <!-- End Pending Card -->
      

        
      {% endfor %}  
        

      </div>
      {% if role.roleid == 3 %}
      <div class="row">
        <div class="col-12">
          <div class="card">
            <div class="card-body"></div>
            <div>
              <div style="text-align: Center">
                
                <button
                  id="create"
                  type="button"
                  class="btn btn-primary"
                  {{createdisable}}
                >
                  Create Transactions
                </button>&nbsp;&nbsp;
                <button
                  id="reopen"
                  type="button"
                  class="btn btn-success"
                  {{reopendisable}}
                >
                  Reopen Transactions
                </button>&nbsp;&nbsp;
                <button
                  id="close"
                  type="button"
                  class="btn btn-danger"
                  {{closeddisable}}
                >
                  Close Transactions
                </button>
              </div>
              <br />
            </div>
          </div>
        </div>
      </div>
      {% endif %}
    </div><!-- End Left side columns -->
    {% if role.roleid == 3 or role.roleid == 4 %}
    <!-- Right side columns -->
    <div class="col-lg-4">

      <!-- Recent Activity -->
      <div class="card">

        <div class="card-body">
          <h5 class="card-title">Recent Activity <span>| Today</span></h5>

          <div class="activity">

            <div class="activity-item d-flex">
              <div class="activite-label">5 min</div>
              <i class='bi bi-circle-fill activity-badge text-success align-self-start'></i>
              <div class="activity-content">
                Submit Beverage and Tobacca Data by Inputter ITO0001
              </div>
            </div>
            <div class="activity-item d-flex">
              <div class="activite-label">20 min</div>
              <i class='bi bi-circle-fill activity-badge text-success align-self-start'></i>
              <div class="activity-content">
                Submit Restaurant Data by Inputter ITO0001
              </div>
            </div>
            <!-- End activity item-->

            <div class="activity-item d-flex">
              <div class="activite-label">20 min</div>
              <i class='bi bi-circle-fill activity-badge text-danger align-self-start'></i>
              <div class="activity-content">
                Reject Restaurant Data by Authorizer ITO0002
              </div>
            </div>
            <div class="activity-item d-flex">
              <div class="activite-label">30 min</div>
              <i class='bi bi-circle-fill activity-badge text-success align-self-start'></i>
              <div class="activity-content">
                Submit Restaurant Data by Inputter ITO0001
              </div>
            </div>
            <!-- End activity item-->

            <div class="activity-item d-flex">
              <div class="activite-label">35 min</div>
              <i class='bi bi-circle-fill activity-badge text-primary align-self-start'></i>
              <div class="activity-content">
                Authorize Beverage and Tobacca Data by Authorizer ITO0002
              </div>
            </div>
            <div class="activity-item d-flex">
              <div class="activite-label">40 min</div>
              <i class='bi bi-circle-fill activity-badge text-primary align-self-start'></i>
              <div class="activity-content">
                Authorize Restaurant Data by Authorizer ITO0002
              </div>
            </div>
            <!-- End activity item-->

            <div class="activity-item d-flex">
              <div class="activite-label">1 hrs</div>
              <i class='bi bi-circle-fill activity-badge text-danger align-self-start'></i>
              <div class="activity-content">
                Reject Restaurant Data By Checker ITO0003
              </div>
            </div><!-- End activity item-->

            

            <div class="activity-item d-flex">
              <div class="activite-label">1 hrs</div>
              <i class='bi bi-circle-fill activity-badge text-muted align-self-start'></i>
              <div class="activity-content">
                Accept Beverage and Tobacca Data by Checker ITO003
              </div>
            </div><!-- End activity item-->

          </div>

        </div>
      </div><!-- End Recent Activity -->

      


      

    </div><!-- End Right side columns -->
    {% endif %}



  
</div>

</section>

<script>
  $(document).ready(function () {

    $('#loading').modal({backdrop: 'static', keyboard: false})  
    
    $("#create").click(function () {
     
      $.ajax({
        type: "POST",
        url: "/api/createbatch",
        data: JSON.stringify({ data: "createbatch" }),
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        beforeSend : function (){
          $("#loading").modal('show');
        },
        success: function (data) {
          console.log(data.msg);
          location.reload();

          },
          error: function(data){
            console.log(data)
          }
      });
    })



    $("#reopen").click(function () {
      
      
        $.ajax({
          type: "POST",
          url: "/api/reopenbatch",
          data: JSON.stringify({ data: "closebatch" }),
          contentType: "application/json; charset=utf-8",
          dataType: "json",
          beforeSend: function(){
            $("#loading").modal('show');
          },
          success: function (data) {
            console.log(data.msg);
            location.reload();
          },
          error: function(){

          }
        })

    })
    $("#close").click(function () {
      
      

        $.ajax({
          type: "POST",
          url: "/api/closebatch",
          data: JSON.stringify({ data: "closebatch" }),
          contentType: "application/json; charset=utf-8",
          dataType: "json",
          beforeSend: function(){
            $("#loading").modal('show');
          },
          success: function (data) {
            console.log(data.msg);
            location.reload();
          },
          error: function(){

          }
        })

    })
    

  });
</script>
